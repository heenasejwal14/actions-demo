name: Build the service and deploy
on:
    workflow_dispatch:
jobs:
    github-reponame:
        runs-on: ubuntu-latest
        steps:
          - name: Define repository name
            id: repository-name
            run: |
              REPOSITORY_NAME=$(echo "${{ github.repository }}" | cut -d '/' -f2)
              echo "Repository name is $REPOSITORY_NAME"
              echo "repository-name=$REPOSITORY_NAME" >> $GITHUB_OUTPUT
          - run: echo "ðŸŽ‰ The job was automatically triggered by a ${{ github.event_name }} event."
          - run: echo "ðŸŽ‰ name of the image is  ${{ github.event.repository.name }}" 
          - name: set version identifier
            run: echo "VERSION_IDENTIFIER=0.1.${GITHUB_RUN_NUMBER}_${GITHUB_RUN_ATTEMPT}_${GITHUB_SHA:0:7}" | tee $GITHUB_ENV
        outputs:
          version_identifier: ${{ env.VERSION_IDENTIFIER }}
        
